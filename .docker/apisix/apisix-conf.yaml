routes:
- id: login
  uri: /login/*
  upstream:
    nodes:
      "127.0.0.1:80": 1
    type: roundrobin
  plugin_config_id: 1
- id: auth
  uri: /auth/*
  upstream:
    nodes:
      "localhost:8080": 1
    type: roundrobin
- id: account
  uri: /account/*
  upstream:
    nodes:
      "localhost:8081": 1
    type: roundrobin
  plugin_config_id: 1
- id: inventory
  uri: /inventory/*
  upstream:
    nodes:
      "localhost:8082": 1
    type: roundrobin
  plugin_config_id: 1
- id: order
  uri: /order/*
  upstream:
    nodes:
      "localhost:8083": 1
    type: roundrobin
  plugin_config_id: 1
- id: payment
  uri: /payment/*
  upstream:
    nodes:
      "localhost:8084": 1
    type: roundrobin
  plugin_config_id: 1
plugin_configs:
- id: 1
  plugins:
    openid-connect:
      client_id: "solidvessel-auth"
      client_secret: "GJDCy4C7LSeFmggaRtZutSHZHBaTCavE"
      discovery: "http://127.0.0.1:9876/realms/solidvessel/.well-known/openid-configuration"
      scope: "openid profile"
      bearer_only: false
      realm: "solidvessel"
      redirect_uri: "http://127.0.0.1:9080/login/callback"
      logout_path: "/logout"
      access_token_in_authorization_header: true
    proxy-rewrite:
      headers:
        remove:
        - "x-id-token"
        - "x-userinfo"
  desc: "oidc"
#END